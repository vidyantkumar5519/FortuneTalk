"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[228],{2228:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(9379),n=t(9722),o=t(5043),l=t(184),r=t(579);const i="636470",c="f18878ae6d3e7627238b03d4d53999548576e4c1",d="https://json.astrologyapi.com/v1/varshaphal_yoga",g="en",m=e=>[{yog_name:"Gajakesari Yoga",is_yog_happening:Math.random()>.5,description:"A powerful yoga formed by the relationship between Moon and Jupiter",planets:[["Moon","Jupiter"]],impact:"Brings intelligence, wealth, and success in endeavors"},{yog_name:"Chandra Mangala Yoga",is_yog_happening:Math.random()>.5,description:"Yoga formed by the combination of Moon and Mars",planets:[["Moon","Mars"]],impact:"Enhances emotional strength and determination"},{yog_name:"Ravi Yoga",is_yog_happening:Math.random()>.5,description:"Yoga associated with the Sun's influence",planets:[["Sun"]],impact:"Promotes leadership, confidence, and personal power"},{yog_name:"Budhaditya Yoga",is_yog_happening:Math.random()>.5,description:"Combination of Mercury and Sun",planets:[["Mercury","Sun"]],impact:"Enhances communication skills and intellectual abilities"}].map((e=>(0,s.A)((0,s.A)({},e),{},{status:e.is_yog_happening?"Happening":"NotHappening"}))),p={Happening:{color:"bg-green-100 border-green-300",textColor:"text-green-800",description:"Active Yoga",impact:"Positive energy and favorable circumstances."},NotHappening:{color:"bg-gray-100 border-gray-300",textColor:"text-gray-800",description:"Inactive Yoga",impact:"Neutral or less active energy period."}},x=e=>{let{panchangData:a,selectedLocation:t={latitude:19.076,longitude:72.877},currentDate:x=new Date}=e;const[u,h]=(0,o.useState)(null),[y,f]=(0,o.useState)(!0),[v,b]=(0,o.useState)(null),[N,j]=(0,o.useState)(null);if((0,o.useEffect)((()=>{a?f(!1):(async()=>{const e=x.getMonth()>=3?x.getFullYear():x.getFullYear()-1,a={day:x.getDate(),month:x.getMonth()+1,year:x.getFullYear(),hour:x.getHours(),min:x.getMinutes(),lat:t.latitude,lon:t.longitude,tzone:5.5,varshaphal_year:e},o="Basic ".concat(btoa("".concat(i,":").concat(c)));try{j({requestData:a,apiUrl:d,timestamp:(new Date).toISOString()}),console.log("Varshaphal Yoga API Request Details:",{url:d,data:a,headers:{Authorization:"Basic [REDACTED]","Content-Type":"application/json","Accept-Language":g}});try{const e=await n.A.post(d,a,{headers:{Authorization:o,"Content-Type":"application/json","Accept-Language":g},timeout:15e3});if(console.log("Full Varshaphal Yoga API Response:",e),!e.data||!Array.isArray(e.data))throw new Error("Invalid Yoga data structure");{const a=e.data.map((e=>(0,s.A)((0,s.A)({},e),{},{status:e.is_yog_happening?"Happening":"NotHappening"})));h(a),j((e=>(0,s.A)((0,s.A)({},e),{},{responseData:a,dataReceived:!0}))),f(!1)}}catch(p){var l;console.warn("API request failed, falling back to mock data:",p);const e=m();h(e),j((e=>{var a,t;return(0,s.A)((0,s.A)({},e),{},{apiError:{message:p.message,status:null===(a=p.response)||void 0===a?void 0:a.status,errorResponse:null===(t=p.response)||void 0===t?void 0:t.data,fallbackUsed:!0}})})),b({message:"Unable to retrieve Yoga data. Using mock data.",details:(null===(l=p.response)||void 0===l?void 0:l.data)||p.message}),f(!1)}}catch(u){var r;console.error("Varshaphal Yoga API Error:",u),j((e=>{var a,t;return(0,s.A)((0,s.A)({},e),{},{errorDetails:{message:u.message,code:null===(a=u.response)||void 0===a?void 0:a.status,responseData:null===(t=u.response)||void 0===t?void 0:t.data}})}));const e=m();h(e),b({message:"Unable to retrieve Yoga data. Using mock data.",details:(null===(r=u.response)||void 0===r?void 0:r.data)||u.message}),f(!1)}})()}),[a,t,x]),y)return(0,r.jsxs)("div",{className:"w-full flex justify-center items-center py-12",children:[(0,r.jsx)(l.FaSpinner,{className:"animate-spin text-4xl text-blue-500"}),(0,r.jsx)("span",{className:"ml-4 text-gray-600",children:"Loading Yoga data..."})]});if(v)return(0,r.jsxs)("div",{className:"w-full bg-red-50 border border-red-200 p-6 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(l.FaExclamationTriangle,{className:"text-4xl text-red-500 mr-4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-red-700",children:"Error Loading Yoga Data"}),(0,r.jsx)("p",{className:"text-red-600",children:v.message})]})]}),(0,r.jsxs)("details",{className:"bg-red-100 p-4 rounded-lg mt-4",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-red-700 font-semibold",children:"View Detailed Error Information"}),(0,r.jsx)("pre",{className:"text-xs text-red-800 mt-2 overflow-x-auto",children:JSON.stringify(v.details,null,2)})]}),N&&(0,r.jsxs)("details",{className:"bg-yellow-50 p-4 rounded-lg mt-4",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-yellow-700 font-semibold",children:"Debug Information"}),(0,r.jsx)("pre",{className:"text-xs text-yellow-800 mt-2 overflow-x-auto",children:JSON.stringify(N,null,2)})]})]});const w=(null===a||void 0===a?void 0:a.yoga)||u;return w&&0!==w.length?(0,r.jsx)("div",{className:"w-full space-y-6",children:(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-4 text-white flex items-center",children:[(0,r.jsx)(l.FaStar,{className:"mr-3 text-2xl"}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Varshaphal Yoga"})]}),(0,r.jsx)("div",{className:"p-4 space-y-3",children:w.map(((e,a)=>{const t=p[e.status]||p.NotHappening,s=t.icon||l.FaAsterisk;return(0,r.jsxs)("div",{className:"\n                  flex flex-col justify-between items-start \n                  p-4 rounded-lg border \n                  ".concat(t.color," ").concat(t.textColor,"\n                  transition-all duration-300 \n                  hover:shadow-lg\n                "),children:[(0,r.jsxs)("div",{className:"flex items-center mb-2 w-full",children:[(0,r.jsx)(s,{className:"mr-3 opacity-70"}),(0,r.jsx)("h4",{className:"font-bold text-lg flex-grow",children:e.yog_name||e.name}),(0,r.jsx)("span",{className:"\n                    px-3 py-1 rounded-full text-xs font-semibold\n                    ".concat(e.is_yog_happening?"bg-green-200 text-green-800":"bg-gray-200 text-gray-800","\n                  "),children:e.is_yog_happening?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"w-full mt-2",children:[(0,r.jsx)("p",{className:"text-sm opacity-80",children:t.description}),(0,r.jsx)("p",{className:"text-xs opacity-70 mt-1",children:t.impact})]}),e.planets&&e.planets.length>0&&(0,r.jsxs)("div",{className:"mt-2 w-full",children:[(0,r.jsx)("h5",{className:"text-sm font-semibold mb-1",children:"Involved Planets:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.planets.map(((e,a)=>(0,r.jsx)("span",{className:" bg-white/20 px-2 py-1 rounded-md  text-xs font-medium ",children:Array.isArray(e)?e.filter((e=>e)).join(" - "):e},a)))})]})]},a)}))})]})}):(0,r.jsxs)("div",{className:"w-full bg-yellow-50 border border-yellow-200 p-6 rounded-lg text-center",children:[(0,r.jsx)(l.FaExclamationTriangle,{className:"text-4xl text-yellow-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-yellow-700",children:"No Yoga Data Available"}),(0,r.jsx)("p",{className:"text-yellow-600",children:"Unable to retrieve Yoga information at this time."}),N&&(0,r.jsxs)("details",{className:"bg-gray-50 p-4 rounded-lg mt-4 text-left",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-gray-700 font-semibold",children:"Debugging Details"}),(0,r.jsx)("pre",{className:"text-xs text-gray-800 mt-2 overflow-x-auto",children:JSON.stringify(N,null,2)})]})]})}}}]);
//# sourceMappingURL=228.ab807b96.chunk.js.map